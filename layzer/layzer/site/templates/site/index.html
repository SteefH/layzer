{% extends 'site/layout.html' %}
{% load static from staticfiles %}
{% block sidebar %}
<div ng-controller="AddSubscriptionCtrl">
	
	<button class="btn btn-primary btn-large span12" ng-click="url='';subscribing=true">Abonneren</button>
	<div effects-fade="subscribing" effects-fade-speed="200" ng-cloak>
		<div class="modal-backdrop" ng-click="subscribing=false"></div>
		<form
			modal
			title="Abonneren"
			close="subscribing=false"
			submit="add(url)"
			ok-text="Abonneren"
			cancel-text="Annuleren"
			input-on-escape="subscribing=false"
			>
			<input type="text" class="span12" ng-model="url" placeholder="Feed of site adres" />
		</form>
	</div>
</div>

<div ng-controller="SubscriptionsCtrl">
	

	
	<ul class="unstyled">
		<li ng-repeat="subscription in subscriptions" ng-cloak class="subscription">
			<span ng-bind="subscription.name"></span>
			<div class="options dropdown-hover pull-right">
				<i class="icon-cog"></i>
				<ul>
					<li><a href="javascript:void(0)" ng-click="$parent.renameSubscription=subscription;$parent.newName=subscription.name">Hernoemen</a></li>
				</ul>
			</div>
		</li>
	</ul>
	<div effects-fade="renameSubscription" effects-fade-speed="200" ng-cloak>
		<div class="modal-backdrop" ng-click="renameSubscription=null"></div>
		<form
			modal
			title="Hernoemen"
			close="renameSubscription=null"
			submit="renameSubscription.name=newName;renameSubscription.$save()"
			ok-text="Opslaan"
			cancel-text="Annuleren"
			>
			<div class="control-group">
				<label class="control-label" for="feed-name">Naam</label>
				<div class="controls">
					<input type="text" ng-model="newName" id="feed-name"/>
				</div>
			</div>
		</form>
	</div>
</div>
{% endblock %}
{% block content %}
<h1>hoi</h1>
{% endblock %}

{% block scripts %}
<script src="{% static 'site/app/controllers/subscriptions.js' %}"></script>
<script src="{% static 'site/app/services/subscriptions.js' %}"></script>

{% endblock %}